{"ast":null,"code":"import _slicedToArray from \"/home/mwurzberger/Code/Sandbox/mg-test/mystandalone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mwurzberger/Code/Sandbox/mg-test/mystandalone/src/components/ship/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { fetchShipById } from '../../actions/shipActions';\nconst classifications = ['Starfighter', 'Freighter', 'Capital'];\n\nfunction Ship({\n  shipId,\n  fetchShipById,\n  selectedShip: {\n    data: shipData,\n    isLoading,\n    error\n  }\n}) {\n  console.log('Ship() Entry'); // Local state\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        classification = _useState4[0],\n        setClassification = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        positions = _useState6[0],\n        setPositions = _useState6[1]; // Go out and fetch the ship data if the shipId is set\n  // Only repeat if a new shipId is passed in\n\n\n  useEffect(() => {\n    console.log('useEffect() - fetch', shipId);\n\n    if (shipId && shipId !== '') {\n      console.log('useEffect() - fetch - running');\n      fetchShipById(shipId);\n    }\n  }, [shipId, fetchShipById]); // Map the loaded ship into the local state when it is \n  // finally updated in redux\n\n  useEffect(() => {\n    console.log('useEffect() - mapping to local', shipData);\n\n    if (shipId === shipData.id && isLoading === false) {\n      console.log('useEffect() - mapping to local - running');\n      setName(shipData.name);\n      setClassification(shipData.classification);\n      setPositions(shipData.positions);\n    }\n  }, [shipId, shipData, isLoading]);\n\n  const handleSave = (event, getShips) => {\n    event.preventDefault();\n    console.log('handleSave'); // const ship = {\n    //     id,\n    //     name,\n    //     classification,\n    //     positions,\n    // }\n  };\n\n  console.log('Ship() return/render');\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, !_.isEmpty(error) && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Error\"), \"\".concat(error.name, \" - \").concat(error.message || error.errmsg)), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, shipId), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Name:\"), React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Classification:\"), React.createElement(\"select\", {\n    value: classification,\n    onChange: e => setName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, classifications.map(entry => React.createElement(\"option\", {\n    value: entry,\n    key: entry,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, entry)))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Positions:\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, JSON.stringify(positions, null, 4))), React.createElement(\"button\", {\n    onClick: e => handleSave,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Save\"));\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedShip: state.selectedShip\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchShipById\n})(Ship);","map":{"version":3,"sources":["/home/mwurzberger/Code/Sandbox/mg-test/mystandalone/src/components/ship/index.js"],"names":["React","useState","useEffect","connect","_","fetchShipById","classifications","Ship","shipId","selectedShip","data","shipData","isLoading","error","console","log","name","setName","classification","setClassification","positions","setPositions","id","handleSave","event","getShips","preventDefault","isEmpty","message","errmsg","e","target","value","map","entry","JSON","stringify","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport {fetchShipById} from '../../actions/shipActions';\n\nconst classifications =  ['Starfighter', 'Freighter', 'Capital'];\n\nfunction Ship({ shipId, fetchShipById, selectedShip: { data: shipData, isLoading, error } }) {\n    console.log('Ship() Entry');\n\n    // Local state\n    const [name, setName] = useState('');\n    const [classification, setClassification] = useState('');\n    const [positions, setPositions] = useState([]);\n\n    // Go out and fetch the ship data if the shipId is set\n    // Only repeat if a new shipId is passed in\n    useEffect(() => {\n        console.log('useEffect() - fetch', shipId);\n        if (shipId && shipId !== '') {\n            console.log('useEffect() - fetch - running');\n            fetchShipById(shipId);\n        }\n    }, [shipId, fetchShipById])\n\n    // Map the loaded ship into the local state when it is \n    // finally updated in redux\n    useEffect(() => {\n        console.log('useEffect() - mapping to local', shipData);\n        if (shipId === shipData.id && isLoading === false) {\n            console.log('useEffect() - mapping to local - running');\n            setName(shipData.name);\n            setClassification(shipData.classification);\n            setPositions(shipData.positions);\n        }\n    }, [shipId, shipData, isLoading])\n\n    const handleSave = (event, getShips) => {\n        event.preventDefault();\n        console.log('handleSave');\n\n        // const ship = {\n        //     id,\n        //     name,\n        //     classification,\n        //     positions,\n        // }\n    }\n\n    console.log('Ship() return/render');\n    return (\n        <div>\n            {\n                !_.isEmpty(error) && <span>\n                    <h3>Error</h3>\n                    {`${error.name} - ${error.message || error.errmsg}`}\n                </span>\n            }\n            <h3>{shipId}</h3>\n            <div>\n                <label>Name:</label>\n                <input type=\"text\" id=\"name\" value={name} onChange={e => setName(e.target.value)}/>\n            </div>\n            <div>\n                <label>Classification:</label>\n                <select value={classification} onChange={e => setName(e.target.value)}>\n                    {classifications.map((entry) => (<option value={entry} key={entry}>{entry}</option>))}\n                </select>\n            </div>\n            <div>\n                <div>Positions:</div>\n                <div>\n                    {JSON.stringify(positions, null, 4)}\n                </div>\n            </div>\n            <button onClick={e => handleSave}>Save</button>\n        </div>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        selectedShip: state.selectedShip,\n    }\n}\n\nexport default connect(mapStateToProps, {fetchShipById})(Ship);\n"]},"metadata":{},"sourceType":"module"}